# Task Management System
___

### Этот проект представляет собой:
Систему управления задачами, включающую в себя функции для создания,
изменения, удаления задач, добавления комментариев к задачам, а также управления пользователями и их ролями.
Проект реализован с использованием Spring Boot, Spring Security, JWT для аутентификации и авторизации, а также
Swagger для документации API.
___

## Требования
Java 17,
Maven,
PostgreSQL,
Swagger,
SpringBoot

___
## Запуск приложения

1. В командной строке необходимо пройти в директорию проекта. 
-     cd [полный путь к проекту] 
--- 
2. Далее вызвать слудующую команду (произойдет поднятие контейнеров приложения и БД). 
-     docker-compose up -d
---
3. Неоходимо скопировать файл database_dumb.sql (файл находится в корне проекта) в контейнер БД, чтобы появились данные с помощью следующей команды:
-     docker cp ["путь к файлу/database_dump.sql" путь в кавычках] [имя поднятого контейнера с БД]:/tmp/database_dump.sql
---
4. Далее нужно вызвать команду:
-     docker exec -i [имя поднятого контейнера с БД] psql -U postgres -d postgres -f /tmp/database_dump.sql
---
5. В вашем поднятом контейнере БД будет необходимая база пользователей для удачной аутентификации.

___
## Авторизация
1. Необходимо пройти по ссылке : http://localhost:8080/swagger-ui/index.html
2. Выбрать Authentication Controller и авторизоваться пользователем имеющим права доступа ADMIN (данные указаны ниже).
4. Необходимо скопировать полученный Jwt токен и в верхем правом углу в поле "Authorize" ввести его.
3. Далее можно пользоваться всеми сервисами с помощью Swagger.

___
### Логин и пароль пользователя: 

* LOGIN: `dima.ru.98@mail.ru`
* PASSWORD: `12345`
___
## Использование
### Основные эндпоинты:
### 1. Авторизация
     POST /authenticate: Авторизация пользователя и получение JWT токена.
### 2. Управление задачами
    GET /api/tasks: Получение всех задач (только для администраторов).
___
    GET /api/tasks/{id}: Получение задачи по ID (только для администраторов).
___
    GET /api/tasks/authorTasks: Получение всех задач конкретного автора (только для администраторов).
___
    GET /api/tasks/executorTasks: Получение всех задач, выполняемых конкретным пользователем (только для администраторов).
___
    POST /api/tasks/newTask: Создание новой задачи (только для администраторов).
___
    PUT /api/tasks/changedStatusAndPriority: Изменение статуса и приоритета задачи (только для администраторов).
___
    PUT /api/tasks/changedStatus: Изменение статуса задачи (только для администраторов или исполнителя задачи).
___
    PUT /api/tasks/executorTask: Добавление исполнителя к задаче (только для администраторов).
___
    DELETE /api/tasks: Удаление задачи по ID (только для администраторов).
___
### 3. Управление пользователями
    POST api/users/newRole: Установление роли конкретному пользователю по ID (только для администраторов)
### 4. Управление комментариями
    POST /api/comments/comment: Добавление комментария к задаче (только для администраторов или исполнителя задачи).
### 5. Управление ролями
    POST /api/roles/role: Добавление новой роли (только для администраторов).
___
## Автор
* Проскуряков Дмитрий